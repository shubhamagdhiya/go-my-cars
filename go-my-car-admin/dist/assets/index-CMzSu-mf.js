import{O as v,b as E,o as T,s as l,e as B,t as C,r as u,j as e,I as m,B as x,T as U}from"./index-CiOuKirm.js";import{F as L,a as t,b as n,c as a,e as i,f as c}from"./form-D9IExxpP.js";import{o as w}from"./helper-CbO53uKL.js";import{T as I}from"./textarea-DsDQqYzJ.js";import{a as R,b as V}from"./index-yYWyrP8g.js";const H=()=>{const{id:d}=v();console.log("id",d);const p=E(),{data:o,isLoading:j,isError:h,error:f,refetch:q}=R(d);console.log("1supportDataResponse",o);const g=s=>{U("success",(s==null?void 0:s.message)||"support Updated Successfully"),p("/support")},{mutate:N}=V(g),y=T({email:l().optional(),fullName:l().optional(),phoneNumber:l().optional(),comment:l().optional(),reply:l({required_error:"message is required"}).min(1,"message cannot be empty")}).strict(),r=B({resolver:C(y),defaultValues:{Reply:""}}),{control:k,register:M}=r,[O,b]=u.useState({});u.useEffect(()=>{const s=o==null?void 0:o.data;s&&b(s),r.reset({email:(s==null?void 0:s.email)||"",phoneNumber:(s==null?void 0:s.phoneNumber)||"",fullName:(s==null?void 0:s.fullName)||"",comment:(s==null?void 0:s.comment)||"",reply:(s==null?void 0:s.reply)||""})},[o]);function S(s){console.log("data",s);const F={reply:s.reply,email:s.email};N({id:d,data:F})}return j?e.jsx("div",{children:"Loading support details..."}):h?e.jsx("div",{className:"text-danger font-semibold",children:f.message}):e.jsxs("div",{className:"container  ",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Update support"}),e.jsx(L,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(S,w),className:"space-y-8 w-full max-w-5xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"email"}),e.jsx(i,{children:e.jsx(m,{placeholder:"email",disabled:!0,...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"fullName",render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"fullName"}),e.jsx(i,{children:e.jsx(m,{placeholder:"fullName",disabled:!0,...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"phoneNumber",render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"phoneNumber"}),e.jsx(i,{children:e.jsx(m,{placeholder:"phoneNumber",disabled:!0,...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"comment",render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"comment"}),e.jsx(i,{children:e.jsx(m,{placeholder:"comment",disabled:!0,...s})}),e.jsx(c,{})]})}),e.jsx(t,{control:r.control,name:"reply",render:({field:s})=>e.jsxs(n,{children:[e.jsx(a,{children:"Reply"}),e.jsx(i,{children:e.jsx(I,{placeholder:"Enter reply mail",className:"min-h-32",...s})}),e.jsx(c,{})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>p("/support"),children:"Cancel"}),e.jsx(x,{type:"submit",children:"Update Support"})]})]})})]})};export{H as default};
