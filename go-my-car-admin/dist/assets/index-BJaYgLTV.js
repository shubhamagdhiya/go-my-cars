import{b as f,e as j,t as b,o as N,j as e,I as y,B as o,s as n,T}from"./index-CiOuKirm.js";import{F,a as c,b as a,c as l,e as m,f as d}from"./form-D9IExxpP.js";import{T as g}from"./textarea-DsDQqYzJ.js";import{a as C}from"./index-C2_j2_kB.js";const D=N({title:n({required_error:"Title is required"}).min(1,"Title cannot be empty").max(100,"Title must be 100 characters or less").trim(),description:n({required_error:"Description is required"}).min(1,"Description must be at least 1 characters").max(1e3,"Description must be 1000 characters or less").trim()}),E=()=>{const i=f(),t=j({resolver:b(D),defaultValues:{title:"",body:""}}),x=s=>{T("success",(s==null?void 0:s.message)||"notifications created successfully"),i("/notifications")},{mutate:u,isPending:r}=C(x),p=async s=>{console.log("DATA:>>",s);const h={topic:"general_user_notificatione",title:s.title,body:s.description};u(h)};return e.jsxs("div",{className:"container max-w-5xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Create Notification"}),e.jsx(F,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(p),className:"space-y-8",children:[e.jsx(c,{control:t.control,name:"title",render:({field:s})=>e.jsxs(a,{children:[e.jsx(l,{children:"Title"}),e.jsx(m,{children:e.jsx(y,{placeholder:"Enter Notification Title",...s})}),e.jsx(d,{})]})}),e.jsx(c,{control:t.control,name:"description",render:({field:s})=>e.jsxs(a,{children:[e.jsx(l,{children:"Description"}),e.jsx(m,{children:e.jsx(g,{placeholder:"Enter Notification Description",className:"min-h-32",...s})}),e.jsx(d,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>i("/notifications"),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:r,children:r?"Sending...":"Send Notification"})]})]})})]})};export{E as default};
