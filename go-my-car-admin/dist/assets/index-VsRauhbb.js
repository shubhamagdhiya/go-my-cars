import{y as x,z as H,u as F,A as L,r as l,j as e,B as j,T as v}from"./index-CiOuKirm.js";import{C as b,a as N,b as S,d as w,c as k}from"./card-Bdl2H8GB.js";const O=H,m={CATEGORY:O},G=async r=>x("post",`${m.CATEGORY}/api/addterms`,r),M=async r=>x("post",`${m.CATEGORY}/api/addprivacy`,r),Y=async r=>x("get",`${m.CATEGORY}/api/getsetting`),_=r=>(console.log("params",r),L({queryKey:[r],queryFn:()=>Y()})),q=r=>F({mutationFn:G,retry:!1,onSuccess:c=>{r(c)}}),K=r=>F({mutationFn:M,retry:!1,onSuccess:c=>{r(c)}});function V(){const r=s=>{v("success",(s==null?void 0:s.message)||"Terms and condition added successfully"),console.log("Terms and condition:",s),g()},c=s=>{v("success",(s==null?void 0:s.message)||"Privacy policy added successfully"),console.log("Privacy policy:",s),g()},{mutate:P,isSuccess:u,isPending:o}=q(r),{mutate:A,isSuccess:p}=K(c),{data:t,isPending:$,refetch:g}=_(r);console.log("1data",t);const[Q,E]=l.useState([]),[h,T]=l.useState([]),[U,D]=l.useState([]);console.log("imageList",h);const[n,f]=l.useState([]),[i,y]=l.useState([]);console.log("files",n),console.log("privacyFiles",i);const R=s=>{console.log("1e.target",s.target),s.target.files&&f(Array.from(s.target.files))},z=s=>{console.log("2e.target",s.target),s.target.files&&y(Array.from(s.target.files))};l.useEffect(()=>{(u||p)&&(f([]),y([]),E([]))},[u,p]),console.log("data",t==null?void 0:t.data),l.useEffect(()=>{var s,a;T((s=t==null?void 0:t.data)==null?void 0:s.termsAndCondition),D((a=t==null?void 0:t.data)==null?void 0:a.privacyPolicy)},[t==null?void 0:t.data]);const B=s=>{if(s.preventDefault(),n.length===0)return;const a=new FormData;n.forEach(d=>{a.append("termsandcondition",d)}),P(a)},I=s=>{if(s.preventDefault(),i.length===0)return;const a=new FormData;i.forEach(d=>{a.append("privacyPolicy",d)}),A(a)};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsx(S,{children:"Upload a terms And Condition"}),e.jsx(w,{children:"Select a file to upload and click the upload button."})]}),e.jsxs(k,{children:[e.jsxs("form",{onSubmit:B,className:"grid gap-4",children:[e.jsx("div",{className:"flex items-center justify-left w-full",children:e.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-[50%] h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(C,{className:"w-10 h-10 text-gray-400"}),e.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"font-semibold",children:"Click to upload"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF"})]}),e.jsx("input",{id:"dropzone-file",type:"file",accept:"application/pdf",className:"hidden",onChange:R})]})}),n&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap",children:n.map((s,a)=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(s.size/1024).toFixed(2)," KB"]})]}),e.jsx("div",{className:"bg-green-800 h-full w-[1px] mx-2 rounded-full"})]},a))}),n.length>0&&e.jsx(j,{type:"submit",disabled:o,children:o?e.jsx("p",{children:"Uploading..."}):e.jsx("p",{children:"Upload"})})]})]}),e.jsx("div",{className:"w-auto overflow-hidden relative",children:e.jsx("p",{children:h??"upload terms and condition"})})]})]}),e.jsxs(b,{children:[e.jsxs(N,{children:[e.jsx(S,{children:"Upload a privacy policy"}),e.jsx(w,{children:"Select a file to upload and click the upload button."})]}),e.jsxs(k,{children:[e.jsxs("form",{onSubmit:I,className:"grid gap-4",children:[e.jsx("div",{className:"flex items-center justify-left w-full",children:e.jsxs("label",{htmlFor:"dropzone-file1",className:"flex flex-col items-center justify-center w-[50%] h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(C,{className:"w-10 h-10 text-gray-400"}),e.jsx("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:"font-semibold",children:"Click to upload1"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF"})]}),e.jsx("input",{id:"dropzone-file1",type:"file",accept:"application/pdf",className:"hidden",onChange:z})]})}),i&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap",children:i.map((s,a)=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(s.size/1024).toFixed(2)," KB"]})]}),e.jsx("div",{className:"bg-green-800 h-full w-[1px] mx-2 rounded-full"})]},a))}),i.length>0&&e.jsx(j,{type:"submit",disabled:o,children:o?e.jsx("p",{children:"Uploading..."}):e.jsx("p",{children:"Upload"})})]})]}),e.jsx("div",{className:"w-auto overflow-hidden relative",children:e.jsx("p",{children:U??"upload privacy policy"})})]})]})]})}function C(r){return e.jsxs("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})}export{V as default};
