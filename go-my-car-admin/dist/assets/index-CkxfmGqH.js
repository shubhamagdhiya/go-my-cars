import{O as v,b as E,o as T,s as o,e as C,t as P,r as u,j as e,I as d,B as x,T as U}from"./index-CiOuKirm.js";import{F as B,a as t,b as a,c as n,e as i,f as c}from"./form-D9IExxpP.js";import{o as L}from"./helper-CbO53uKL.js";import{T as w}from"./textarea-DsDQqYzJ.js";import{a as I,b as R}from"./index-DUoETkM5.js";const H=()=>{const{id:m}=v();console.log("id",m);const p=E(),{data:l,isLoading:j,isError:h,error:f,refetch:V}=I(m);console.log("1supportDataResponse",l);const g=r=>{U("success",(r==null?void 0:r.message)||"partner Updated Successfully"),p("/partner")},{mutate:N}=R(g),y=T({email:o().optional(),fullName:o().optional(),phoneNumber:o().optional(),detail:o().optional(),reply:o({required_error:"message is required"}).min(1,"message cannot be empty")}).strict(),s=C({resolver:P(y),defaultValues:{Reply:""}}),{control:q,register:k}=s,[M,b]=u.useState({});u.useEffect(()=>{const r=l==null?void 0:l.data;r&&b(r),s.reset({email:(r==null?void 0:r.email)||"",phoneNumber:(r==null?void 0:r.phoneNumber)||"",fullName:(r==null?void 0:r.fullName)||"",detail:(r==null?void 0:r.detail)||"",reply:(r==null?void 0:r.reply)||""})},[l]);function S(r){console.log("data",r);const F={reply:r.reply,email:r.email};N({id:m,data:F})}return j?e.jsx("div",{children:"Loading partner details..."}):h?e.jsx("div",{className:"text-danger font-semibold",children:f.message}):e.jsxs("div",{className:"container  ",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Update partner"}),e.jsx(B,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(S,L),className:"space-y-8 w-full max-w-5xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(t,{control:s.control,name:"email",render:({field:r})=>e.jsxs(a,{children:[e.jsx(n,{children:"email"}),e.jsx(i,{children:e.jsx(d,{placeholder:"email",disabled:!0,...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:s.control,name:"fullName",render:({field:r})=>e.jsxs(a,{children:[e.jsx(n,{children:"fullName"}),e.jsx(i,{children:e.jsx(d,{placeholder:"fullName",disabled:!0,...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:s.control,name:"phoneNumber",render:({field:r})=>e.jsxs(a,{children:[e.jsx(n,{children:"phoneNumber"}),e.jsx(i,{children:e.jsx(d,{placeholder:"phoneNumber",disabled:!0,...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:s.control,name:"detail",render:({field:r})=>e.jsxs(a,{children:[e.jsx(n,{children:"detail"}),e.jsx(i,{children:e.jsx(d,{placeholder:"detail",disabled:!0,...r})}),e.jsx(c,{})]})}),e.jsx(t,{control:s.control,name:"reply",render:({field:r})=>e.jsxs(a,{children:[e.jsx(n,{children:"Reply"}),e.jsx(i,{children:e.jsx(w,{placeholder:"Enter reply mail",className:"min-h-32",...r})}),e.jsx(c,{})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>p("/partner"),children:"Cancel"}),e.jsx(x,{type:"submit",children:"Update Partner"})]})]})})]})};export{H as default};
